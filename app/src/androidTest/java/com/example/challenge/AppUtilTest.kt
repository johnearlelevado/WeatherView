package com.example.challenge

import androidx.appcompat.widget.AppCompatImageView
import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4
import com.example.challenge.util.AppUtil

import org.junit.Test
import org.junit.runner.RunWith

import org.junit.Assert.*
import org.junit.Before

/**
 * Instrumented test, which will execute on an Android device.
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
@RunWith(AndroidJUnit4::class)
class AppUtilTest {

    lateinit var jsonResponse : String

    @Before
    fun setup() {
        jsonResponse = "{\"cod\":\"200\",\"message\":0,\"cnt\":40,\"list\":[{\"dt\":1632592800,\"main\":{\"temp\":301.38,\"feels_like\":304.56,\"temp_min\":299.94,\"temp_max\":301.38,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":72,\"temp_kf\":1.44},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02n\"}],\"clouds\":{\"all\":15},\"wind\":{\"speed\":2.35,\"deg\":93,\"gust\":2.81},\"visibility\":10000,\"pop\":0.28,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-25 18:00:00\"},{\"dt\":1632603600,\"main\":{\"temp\":300.27,\"feels_like\":302.76,\"temp_min\":299.35,\"temp_max\":300.27,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1006,\"humidity\":76,\"temp_kf\":0.92},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01n\"}],\"clouds\":{\"all\":9},\"wind\":{\"speed\":1.54,\"deg\":73,\"gust\":2},\"visibility\":10000,\"pop\":0.09,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-25 21:00:00\"},{\"dt\":1632614400,\"main\":{\"temp\":301.2,\"feels_like\":304.33,\"temp_min\":301.2,\"temp_max\":301.2,\"pressure\":1009,\"sea_level\":1009,\"grnd_level\":1008,\"humidity\":73,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":18},\"wind\":{\"speed\":1.22,\"deg\":93,\"gust\":1.91},\"visibility\":10000,\"pop\":0.09,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-26 00:00:00\"},{\"dt\":1632625200,\"main\":{\"temp\":303.84,\"feels_like\":308.07,\"temp_min\":303.84,\"temp_max\":303.84,\"pressure\":1009,\"sea_level\":1009,\"grnd_level\":1007,\"humidity\":63,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":1.19,\"deg\":230,\"gust\":2.45},\"visibility\":10000,\"pop\":0.09,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-26 03:00:00\"},{\"dt\":1632636000,\"main\":{\"temp\":304.61,\"feels_like\":308.99,\"temp_min\":304.61,\"temp_max\":304.61,\"pressure\":1006,\"sea_level\":1006,\"grnd_level\":1005,\"humidity\":60,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":1.16,\"deg\":273,\"gust\":1.7},\"visibility\":10000,\"pop\":0.44,\"rain\":{\"3h\":0.73},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-26 06:00:00\"},{\"dt\":1632646800,\"main\":{\"temp\":303.57,\"feels_like\":308.2,\"temp_min\":303.57,\"temp_max\":303.57,\"pressure\":1006,\"sea_level\":1006,\"grnd_level\":1005,\"humidity\":66,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":0.76,\"deg\":251,\"gust\":1.23},\"visibility\":10000,\"pop\":0.42,\"rain\":{\"3h\":0.13},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-26 09:00:00\"},{\"dt\":1632657600,\"main\":{\"temp\":301.89,\"feels_like\":306.03,\"temp_min\":301.89,\"temp_max\":301.89,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":74,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":97},\"wind\":{\"speed\":0.74,\"deg\":117,\"gust\":1.76},\"visibility\":10000,\"pop\":0.66,\"rain\":{\"3h\":0.36},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-26 12:00:00\"},{\"dt\":1632668400,\"main\":{\"temp\":300.82,\"feels_like\":304.05,\"temp_min\":300.82,\"temp_max\":300.82,\"pressure\":1009,\"sea_level\":1009,\"grnd_level\":1008,\"humidity\":77,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":97},\"wind\":{\"speed\":0.71,\"deg\":122,\"gust\":1.27},\"visibility\":10000,\"pop\":0.59,\"rain\":{\"3h\":0.49},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-26 15:00:00\"},{\"dt\":1632679200,\"main\":{\"temp\":299.92,\"feels_like\":302.31,\"temp_min\":299.92,\"temp_max\":299.92,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1006,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":98},\"wind\":{\"speed\":0.95,\"deg\":51,\"gust\":1.24},\"visibility\":10000,\"pop\":0.47,\"rain\":{\"3h\":0.61},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-26 18:00:00\"},{\"dt\":1632690000,\"main\":{\"temp\":299.83,\"feels_like\":302.12,\"temp_min\":299.83,\"temp_max\":299.83,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1006,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":0.61,\"deg\":79,\"gust\":0.98},\"visibility\":10000,\"pop\":0.23,\"rain\":{\"3h\":0.4},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-26 21:00:00\"},{\"dt\":1632700800,\"main\":{\"temp\":301.34,\"feels_like\":304.93,\"temp_min\":301.34,\"temp_max\":301.34,\"pressure\":1009,\"sea_level\":1009,\"grnd_level\":1008,\"humidity\":75,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":96},\"wind\":{\"speed\":0.4,\"deg\":92,\"gust\":0.93},\"visibility\":10000,\"pop\":0.17,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-27 00:00:00\"},{\"dt\":1632711600,\"main\":{\"temp\":303.95,\"feels_like\":308.32,\"temp_min\":303.95,\"temp_max\":303.95,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":63,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":59},\"wind\":{\"speed\":1.62,\"deg\":220,\"gust\":1.66},\"visibility\":10000,\"pop\":0.23,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-27 03:00:00\"},{\"dt\":1632722400,\"main\":{\"temp\":304.21,\"feels_like\":308.64,\"temp_min\":304.21,\"temp_max\":304.21,\"pressure\":1006,\"sea_level\":1006,\"grnd_level\":1004,\"humidity\":62,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":66},\"wind\":{\"speed\":1.28,\"deg\":258,\"gust\":1.68},\"visibility\":10000,\"pop\":0.81,\"rain\":{\"3h\":1.38},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-27 06:00:00\"},{\"dt\":1632733200,\"main\":{\"temp\":303.31,\"feels_like\":307.61,\"temp_min\":303.31,\"temp_max\":303.31,\"pressure\":1006,\"sea_level\":1006,\"grnd_level\":1005,\"humidity\":66,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":99},\"wind\":{\"speed\":1.81,\"deg\":227,\"gust\":1.71},\"visibility\":10000,\"pop\":0.86,\"rain\":{\"3h\":0.94},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-27 09:00:00\"},{\"dt\":1632744000,\"main\":{\"temp\":301.56,\"feels_like\":305.77,\"temp_min\":301.56,\"temp_max\":301.56,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1006,\"humidity\":77,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":1.85,\"deg\":216,\"gust\":2.38},\"visibility\":10000,\"pop\":0.86,\"rain\":{\"3h\":1.19},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-27 12:00:00\"},{\"dt\":1632754800,\"main\":{\"temp\":300.78,\"feels_like\":304.48,\"temp_min\":300.78,\"temp_max\":300.78,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":81,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":96},\"wind\":{\"speed\":1.59,\"deg\":174,\"gust\":2.14},\"visibility\":10000,\"pop\":0.43,\"rain\":{\"3h\":0.43},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-27 15:00:00\"},{\"dt\":1632765600,\"main\":{\"temp\":299.94,\"feels_like\":302.76,\"temp_min\":299.94,\"temp_max\":299.94,\"pressure\":1006,\"sea_level\":1006,\"grnd_level\":1005,\"humidity\":84,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":86},\"wind\":{\"speed\":0.53,\"deg\":150,\"gust\":1.35},\"visibility\":10000,\"pop\":0.41,\"rain\":{\"3h\":0.5},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-27 18:00:00\"},{\"dt\":1632776400,\"main\":{\"temp\":299.52,\"feels_like\":299.52,\"temp_min\":299.52,\"temp_max\":299.52,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1005,\"humidity\":85,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":94},\"wind\":{\"speed\":0.35,\"deg\":68,\"gust\":0.98},\"visibility\":10000,\"pop\":0.2,\"rain\":{\"3h\":1.86},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-27 21:00:00\"},{\"dt\":1632787200,\"main\":{\"temp\":301.03,\"feels_like\":304.81,\"temp_min\":301.03,\"temp_max\":301.03,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":90},\"wind\":{\"speed\":0.41,\"deg\":111,\"gust\":0.81},\"visibility\":10000,\"pop\":0.36,\"rain\":{\"3h\":0.11},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-28 00:00:00\"},{\"dt\":1632798000,\"main\":{\"temp\":303.84,\"feels_like\":308.84,\"temp_min\":303.84,\"temp_max\":303.84,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1006,\"humidity\":66,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":94},\"wind\":{\"speed\":1.1,\"deg\":247,\"gust\":1.09},\"visibility\":10000,\"pop\":0.27,\"rain\":{\"3h\":0.21},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-28 03:00:00\"},{\"dt\":1632808800,\"main\":{\"temp\":303.98,\"feels_like\":308.9,\"temp_min\":303.98,\"temp_max\":303.98,\"pressure\":1005,\"sea_level\":1005,\"grnd_level\":1004,\"humidity\":65,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":93},\"wind\":{\"speed\":3.62,\"deg\":250,\"gust\":3.11},\"visibility\":10000,\"pop\":0.92,\"rain\":{\"3h\":1.15},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-28 06:00:00\"},{\"dt\":1632819600,\"main\":{\"temp\":302.04,\"feels_like\":306.57,\"temp_min\":302.04,\"temp_max\":302.04,\"pressure\":1006,\"sea_level\":1006,\"grnd_level\":1005,\"humidity\":75,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":84},\"wind\":{\"speed\":3.24,\"deg\":243,\"gust\":3.92},\"visibility\":10000,\"pop\":1,\"rain\":{\"3h\":2.58},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-28 09:00:00\"},{\"dt\":1632830400,\"main\":{\"temp\":300.74,\"feels_like\":304.38,\"temp_min\":300.74,\"temp_max\":300.74,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":81,\"temp_kf\":0},\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":92},\"wind\":{\"speed\":0.79,\"deg\":276,\"gust\":2.56},\"visibility\":10000,\"pop\":1,\"rain\":{\"3h\":3.98},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-28 12:00:00\"},{\"dt\":1632841200,\"main\":{\"temp\":300.32,\"feels_like\":303.59,\"temp_min\":300.32,\"temp_max\":300.32,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":83,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":98},\"wind\":{\"speed\":0.77,\"deg\":307,\"gust\":1.82},\"visibility\":10000,\"pop\":0.94,\"rain\":{\"3h\":1.01},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-28 15:00:00\"},{\"dt\":1632852000,\"main\":{\"temp\":299.46,\"feels_like\":299.46,\"temp_min\":299.46,\"temp_max\":299.46,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1006,\"humidity\":86,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":89},\"wind\":{\"speed\":0.55,\"deg\":284,\"gust\":1.51},\"visibility\":10000,\"pop\":0.75,\"rain\":{\"3h\":0.78},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-28 18:00:00\"},{\"dt\":1632862800,\"main\":{\"temp\":299.17,\"feels_like\":299.17,\"temp_min\":299.17,\"temp_max\":299.17,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1006,\"humidity\":87,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":87},\"wind\":{\"speed\":0.73,\"deg\":5,\"gust\":1.36},\"visibility\":10000,\"pop\":0.39,\"rain\":{\"3h\":0.31},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-28 21:00:00\"},{\"dt\":1632873600,\"main\":{\"temp\":300.7,\"feels_like\":304.15,\"temp_min\":300.7,\"temp_max\":300.7,\"pressure\":1009,\"sea_level\":1009,\"grnd_level\":1008,\"humidity\":80,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":72},\"wind\":{\"speed\":1.08,\"deg\":339,\"gust\":1.56},\"visibility\":10000,\"pop\":0.15,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-29 00:00:00\"},{\"dt\":1632884400,\"main\":{\"temp\":303.26,\"feels_like\":307.73,\"temp_min\":303.26,\"temp_max\":303.26,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":67,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":24},\"wind\":{\"speed\":2.55,\"deg\":277,\"gust\":2.36},\"visibility\":10000,\"pop\":0.12,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-29 03:00:00\"},{\"dt\":1632895200,\"main\":{\"temp\":303.93,\"feels_like\":308.27,\"temp_min\":303.93,\"temp_max\":303.93,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1005,\"humidity\":63,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":24},\"wind\":{\"speed\":4.13,\"deg\":247,\"gust\":3.82},\"visibility\":10000,\"pop\":0.55,\"rain\":{\"3h\":0.12},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-29 06:00:00\"},{\"dt\":1632906000,\"main\":{\"temp\":302.58,\"feels_like\":307.05,\"temp_min\":302.58,\"temp_max\":302.58,\"pressure\":1007,\"sea_level\":1007,\"grnd_level\":1006,\"humidity\":71,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":6},\"wind\":{\"speed\":4.97,\"deg\":232,\"gust\":5.41},\"visibility\":10000,\"pop\":0.7,\"rain\":{\"3h\":0.14},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-29 09:00:00\"},{\"dt\":1632916800,\"main\":{\"temp\":301.21,\"feels_like\":305.09,\"temp_min\":301.21,\"temp_max\":301.21,\"pressure\":1009,\"sea_level\":1009,\"grnd_level\":1008,\"humidity\":78,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":9},\"wind\":{\"speed\":2.07,\"deg\":247,\"gust\":3.36},\"visibility\":10000,\"pop\":0.66,\"rain\":{\"3h\":1.38},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-29 12:00:00\"},{\"dt\":1632927600,\"main\":{\"temp\":300.67,\"feels_like\":304.21,\"temp_min\":300.67,\"temp_max\":300.67,\"pressure\":1010,\"sea_level\":1010,\"grnd_level\":1009,\"humidity\":81,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":6},\"wind\":{\"speed\":0.94,\"deg\":251,\"gust\":2.02},\"visibility\":10000,\"pop\":0.25,\"rain\":{\"3h\":0.14},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2021-09-29 15:00:00\"},{\"dt\":1632938400,\"main\":{\"temp\":300.07,\"feels_like\":302.99,\"temp_min\":300.07,\"temp_max\":300.07,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":83,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":11},\"wind\":{\"speed\":1.04,\"deg\":328,\"gust\":1.76},\"visibility\":10000,\"pop\":0.21,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-29 18:00:00\"},{\"dt\":1632949200,\"main\":{\"temp\":299.52,\"feels_like\":299.52,\"temp_min\":299.52,\"temp_max\":299.52,\"pressure\":1009,\"sea_level\":1009,\"grnd_level\":1008,\"humidity\":85,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":15},\"wind\":{\"speed\":0.65,\"deg\":21,\"gust\":1.2},\"visibility\":10000,\"pop\":0.2,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-29 21:00:00\"},{\"dt\":1632960000,\"main\":{\"temp\":301.12,\"feels_like\":305.02,\"temp_min\":301.12,\"temp_max\":301.12,\"pressure\":1010,\"sea_level\":1010,\"grnd_level\":1009,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":15},\"wind\":{\"speed\":0.84,\"deg\":317,\"gust\":1.39},\"visibility\":10000,\"pop\":0.29,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-30 00:00:00\"},{\"dt\":1632970800,\"main\":{\"temp\":303.25,\"feels_like\":308.19,\"temp_min\":303.25,\"temp_max\":303.25,\"pressure\":1010,\"sea_level\":1010,\"grnd_level\":1009,\"humidity\":69,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":75},\"wind\":{\"speed\":2.24,\"deg\":285,\"gust\":2.07},\"visibility\":10000,\"pop\":0.82,\"rain\":{\"3h\":0.52},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-30 03:00:00\"},{\"dt\":1632981600,\"main\":{\"temp\":303.78,\"feels_like\":308.19,\"temp_min\":303.78,\"temp_max\":303.78,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1007,\"humidity\":64,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":71},\"wind\":{\"speed\":3.68,\"deg\":249,\"gust\":3.11},\"visibility\":10000,\"pop\":0.89,\"rain\":{\"3h\":0.68},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-30 06:00:00\"},{\"dt\":1632992400,\"main\":{\"temp\":302.79,\"feels_like\":307.33,\"temp_min\":302.79,\"temp_max\":302.79,\"pressure\":1008,\"sea_level\":1008,\"grnd_level\":1006,\"humidity\":70,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":57},\"wind\":{\"speed\":3.47,\"deg\":237,\"gust\":3.4},\"visibility\":10000,\"pop\":0.78,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-30 09:00:00\"},{\"dt\":1633003200,\"main\":{\"temp\":301.7,\"feels_like\":305.76,\"temp_min\":301.7,\"temp_max\":301.7,\"pressure\":1010,\"sea_level\":1010,\"grnd_level\":1009,\"humidity\":75,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":74},\"wind\":{\"speed\":1.8,\"deg\":238,\"gust\":2.84},\"visibility\":10000,\"pop\":0.7,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-30 12:00:00\"},{\"dt\":1633014000,\"main\":{\"temp\":300.73,\"feels_like\":304.22,\"temp_min\":300.73,\"temp_max\":300.73,\"pressure\":1010,\"sea_level\":1010,\"grnd_level\":1009,\"humidity\":80,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":77},\"wind\":{\"speed\":0.71,\"deg\":357,\"gust\":1.88},\"visibility\":10000,\"pop\":0.29,\"rain\":{\"3h\":0.45},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2021-09-30 15:00:00\"}],\"city\":{\"id\":1701668,\"name\":\"Manila\",\"coord\":{\"lat\":14.6042,\"lon\":120.9822},\"country\":\"PH\",\"population\":15000,\"timezone\":28800,\"sunrise\":1632519914,\"sunset\":1632563426}}"
    }

    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("com.example.challenge", appContext.packageName)
    }
    @Test
    fun testProcessResponseNotEmpty() {
        val result = AppUtil.processResponse(jsonResponse)
        assertTrue(result.size == 40)
    }

    @Test
    fun testProcessResponseContentSuccess() {
        val result = AppUtil.processResponse(jsonResponse)
        assertTrue(result[0].weather == 801)
        assertTrue(result[0].weatherDescription == "few clouds")
        assertTrue(result[0].wind == "2.35")
        assertTrue(result[0].humidity == "72.0")
        assertTrue(result[0].pressure == "1008.0")
        assertTrue(result[0].maxTemp == "301")
        assertTrue(result[0].minTemp == "299")
    }

    @Test
    fun testSetWeatherIcon() {
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        val imageView = AppCompatImageView(appContext)
        AppUtil.setWeatherIcon(imageView,801)
        assertTrue(imageView.tag == R.drawable.ic_few_clouds)
    }
}